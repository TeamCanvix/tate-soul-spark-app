
import React, { useEffect, useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { ArrowRight } from 'lucide-react';

// Sample prayer texts
const prayerTexts = {
  shacharit: {
    title: 'שחרית',
    content: `מודה אני לפניך מלך חי וקיים שהחזרת בי נשמתי בחמלה, רבה אמונתך.

ברכות השחר:
ברוך אתה ה' אלוקינו מלך העולם, אשר נתן לשכוי בינה להבחין בין יום ובין לילה.
ברוך אתה ה' אלוקינו מלך העולם, שלא עשני גוי.
ברוך אתה ה' אלוקינו מלך העולם, שלא עשני עבד.
ברוך אתה ה' אלוקינו מלך העולם, שלא עשני אישה.
ברוך אתה ה' אלוקינו מלך העולם, פוקח עיוורים.
ברוך אתה ה' אלוקינו מלך העולם, מלביש ערומים.
ברוך אתה ה' אלוקינו מלך העולם, מתיר אסורים.
ברוך אתה ה' אלוקינו מלך העולם, זוקף כפופים.
ברוך אתה ה' אלוקינו מלך העולם, רוקע הארץ על המים.
ברוך אתה ה' אלוקינו מלך העולם, שעשה לי כל צרכי.
ברוך אתה ה' אלוקינו מלך העולם, המכין מצעדי גבר.
ברוך אתה ה' אלוקינו מלך העולם, אוזר ישראל בגבורה.
ברוך אתה ה' אלוקינו מלך העולם, עוטר ישראל בתפארה.
ברוך אתה ה' אלוקינו מלך העולם, הנותן ליעף כח.
ברוך אתה ה' אלוקינו מלך העולם, המעביר שינה מעיני ותנומה מעפעפי.

יהי רצון מלפניך ה' אלוקינו ואלוקי אבותינו שתרגילנו בתורתך ודבקנו במצוותיך, ואל תביאנו לא לידי חטא ולא לידי עבירה ועוון, ולא לידי ניסיון ולא לידי ביזיון, ואל תשלוט בנו יצר הרע, והרחיקנו מאדם רע ומחבר רע, ודבקנו ביצר טוב ובמעשים טובים, וכוף את יצרנו להשתעבד לך, ותננו היום ובכל יום לחן לחסד ולרחמים בעיניך ובעיני כל רואינו, ותגמלנו חסדים טובים, ברוך אתה ה' גומל חסדים טובים לעמו ישראל.`
  },
  mincha: {
    title: 'מנחה',
    content: `אשרי
אַשְׁרֵי יוֹשְׁבֵי בֵיתֶךָ, עוֹד יְהַלְלוּךָ סֶּלָה: אַשְׁרֵי הָעָם שֶׁכָּכָה לּוֹ, אַשְׁרֵי הָעָם שֶׁיְיָ אֱלֹהָיו: תְּהִלָּה לְדָוִד, אֲרוֹמִמְךָ אֱלוֹהַי הַמֶּלֶךְ, וַאֲבָרְכָה שִׁמְךָ לְעוֹלָם וָעֶד: בְּכָל יוֹם אֲבָרְכֶךָּ, וַאֲהַלְלָה שִׁמְךָ לְעוֹלָם וָעֶד: גָּדוֹל יְיָ וּמְהֻלָּל מְאֹד, וְלִגְדֻלָּתוֹ אֵין חֵקֶר: דּוֹר לְדוֹר יְשַׁבַּח מַעֲשֶׂיךָ, וּגְבוּרֹתֶיךָ יַגִּידוּ: הֲדַר כְּבוֹד הוֹדֶךָ, וְדִבְרֵי נִפְלְאוֹתֶיךָ אָשִׂיחָה: וֶעֱזוּז נוֹרְאֹתֶיךָ יֹאמֵרוּ, וּגְדֻלָּתְךָ אֲסַפְּרֶנָּה: זֵכֶר רַב טוּבְךָ יַבִּיעוּ, וְצִדְקָתְךָ יְרַנֵּנוּ: חַנּוּן וְרַחוּם יְיָ, אֶרֶךְ אַפַּיִם וּגְדָל חָסֶד: טוֹב יְיָ לַכֹּל, וְרַחֲמָיו עַל כָּל מַעֲשָׂיו:

ובא לציון גואל
וּבָא לְצִיּוֹן גּוֹאֵל וּלְשָׁבֵי פֶֿשַׁע בְּיַעֲקֹב נְאֻם יְיָ. וַאֲנִי זֹאת בְּרִיתִי אוֹתָם אָמַר יְיָ, רוּחִי אֲשֶׁר עָלֶיךָ וּדְבָרַי אֲשֶׁר שַׂמְתִּי בְּפִיךָ, לֹא יָמוּשׁוּ מִפִּיךָ וּמִפִּי זַרְעֲךָ וּמִפִּי זֶרַע זַרְעֲךָ אָמַר יְיָ מֵעַתָּה וְעַד עוֹלָם:וְאַתָּה קָדוֹשׁ יוֹשֵׁב תְּהִלּוֹת יִשְׂרָאֵל: וְקָרָא זֶה אֶל זֶה וְאָמַר, קָדוֹשׁ קָדוֹשׁ קָדוֹשׁ יְיָ צְבָאוֹת, מְלֹא כָל הָאָרֶץ כְּבוֹדוֹ:

עמידה
אֲדֹנָי, שְׂפָתַי תִּפְתָּח וּפִי יַגִּיד תְּהִלָּתֶךָ:

בָּרוּךְ אַתָּה יְיָ אֱלֹהֵינוּ וֵאלֹהֵי אֲבוֹתֵינוּ, אֱלֹהֵי אַבְרָהָם, אֱלֹהֵי יִצְחָק, וֵאלֹהֵי יַעֲקֹב, הָאֵל הַגָּדוֹל הַגִּבּוֹר וְהַנּוֹרָא, אֵל עֶלְיוֹן, גּוֹמֵל חֲסָדִים טוֹבִים, וְקוֹנֵה הַכֹּל, וְזוֹכֵר חַסְדֵי אָבוֹת, וּמֵבִיא גוֹאֵל לִבְנֵי בְנֵיהֶם לְמַעַן שְׁמוֹ בְּאַהֲבָה:

מֶלֶךְ עוֹזֵר וּמוֹשִׁיעַ וּמָגֵן: בָּרוּךְ אַתָּה יְיָ, מָגֵן אַבְרָהָם:

אַתָּה גִּבּוֹר לְעוֹלָם אֲדֹנָי, מְחַיֵּה מֵתִים אַתָּה, רַב לְהוֹשִׁיעַ:

מוֹרִיד הַטָּל:
מְכַלְכֵּל חַיִּים בְּחֶסֶד, מְחַיֵּה מֵתִים בְּרַחֲמִים רַבִּים, סוֹמֵךְ נוֹפְלִים, וְרוֹפֵא חוֹלִים, וּמַתִּיר אֲסוּרִים, וּמְקַיֵּם אֱמוּנָתוֹ לִישֵׁנֵי עָפָר, מִי כָמוֹךָ בַּעַל גְּבוּרוֹת וּמִי דּוֹמֶה לָּךְ, מֶלֶךְ מֵמִית וּמְחַיֶּה וּמַצְמִיחַ יְשׁוּעָה:

וְנֶאֱמָן אַתָּה לְהַחֲיוֹת מֵתִים: בָּרוּךְ אַתָּה יְיָ, מְחַיֵּה הַמֵּתִים:

אַתָּה קָדוֹשׁ וְשִׁמְךָ קָדוֹשׁ וּקְדוֹשִׁים בְּכָל יוֹם יְהַלְלוּךָ, סֶּלָה: בָּרוּךְ אַתָּה יְיָ, הָאֵל הַקָּדוֹשׁ:

אַתָּה חוֹנֵן לְאָדָם דַּעַת, וּמְלַמֵּד לֶאֱנוֹשׁ בִּינָה: חָנֵּנוּ מֵאִתְּךָ דֵעָה בִינָה וְהַשְׂכֵּל: בָּרוּךְ אַתָּה יְיָ, חוֹנֵן הַדָּעַת:`
  },
  maariv: {
    title: 'ערבית',
    content: `ברכו
בָּרְכוּ אֶת יְיָ הַמְבֹרָךְ:
בָּרוּךְ יְיָ הַמְבֹרָךְ לְעוֹלָם וָעֶד:

ברכת קריאת שמע
בָּרוּךְ אַתָּה יְיָ אֱלֹהֵינוּ מֶלֶךְ הָעוֹלָם, אֲשֶׁר בִּדְבָרוֹ מַעֲרִיב עֲרָבִים, בְּחָכְמָה פּוֹתֵחַ שְׁעָרִים, וּבִתְבוּנָה מְשַׁנֶּה עִתִּים וּמַחֲלִיף אֶת הַזְּמַנִּים, וּמְסַדֵּר אֶת הַכּוֹכָבִים בְּמִשְׁמְרוֹתֵיהֶם בָּרָקִיעַ כִּרְצוֹנוֹ. בּוֹרֵא יוֹם וָלָיְלָה, גּוֹלֵל אוֹר מִפְּנֵי חשֶׁךְ וְחשֶׁךְ מִפְּנֵי אוֹר. וּמַעֲבִיר יוֹם וּמֵבִיא לָיְלָה, וּמַבְדִּיל בֵּין יוֹם וּבֵין לָיְלָה, יְיָ צְבָאוֹת שְׁמוֹ. אֵל חַי וְקַיָּם, תָּמִיד יִמְלוֹךְ עָלֵינוּ לְעוֹלָם וָעֶד. בָּרוּךְ אַתָּה יְיָ, הַמַּעֲרִיב עֲרָבִים:

אַהֲבַת עוֹלָם בֵּית יִשְׂרָאֵל עַמְּךָ אָהָבְתָּ, תּוֹרָה וּמִצְוֹת, חֻקִּים וּמִשְׁפָּטִים, אוֹתָנוּ לִמַּדְתָּ. עַל כֵּן יְיָ אֱלֹהֵינוּ, בְּשָׁכְבֵנוּ וּבְקוּמֵנוּ נָשִׂיחַ בְּחֻקֶּיךָ, וְנִשְׂמַח בְּדִבְרֵי תוֹרָתֶךָ וּבְמִצְוֹתֶיךָ לְעוֹלָם וָעֶד. כִּי הֵם חַיֵּינוּ וְאֹרֶךְ יָמֵינוּ, וּבָהֶם נֶהְגֶּה יוֹמָם וָלָיְלָה. וְאַהֲבָתְךָ אַל תָּסִיר מִמֶּנּוּ לְעוֹלָמִים. בָּרוּךְ אַתָּה יְיָ, אוֹהֵב עַמּוֹ יִשְׂרָאֵל:

קריאת שמע
שְׁמַע יִשְׂרָאֵל יְיָ אֱלֹהֵינוּ יְיָ אֶחָד:
בָּרוּךְ שֵׁם כְּבוֹד מַלְכוּתוֹ לְעוֹלָם וָעֶד:

וְאָהַבְתָּ אֵת יְיָ אֱלֹהֶיךָ, בְּכָל לְבָבְךָ וּבְכָל נַפְשְׁךָ וּבְכָל מְאֹדֶךָ. וְהָיוּ הַדְּבָרִים הָאֵלֶּה, אֲשֶׁר אָנֹכִי מְצַוְּךָ הַיּוֹם, עַל לְבָבֶךָ. וְשִׁנַּנְתָּם לְבָנֶיךָ וְדִבַּרְתָּ בָּם, בְּשִׁבְתְּךָ בְּבֵיתֶךָ וּבְלֶכְתְּךָ בַדֶּרֶךְ, וּבְשָׁכְבְּךָ וּבְקוּמֶךָ. וּקְשַׁרְתָּם לְאוֹת עַל יָדֶךָ, וְהָיוּ לְטֹטָפֹת בֵּין עֵינֶיךָ. וּכְתַבְתָּם עַל מְזֻזוֹת בֵּיתֶךָ וּבִשְׁעָרֶיךָ:`
  },
  tefillin: {
    title: 'תפילין',
    content: `ברכה להנחת תפילין
ברוך אתה ה' אלקינו מלך העולם אשר קדשנו במצוותיו וצונו להניח תפילין.

סדר הנחת תפילין
1. מניחים את תפילין של יד על הקיבורת של יד שמאל (או יד ימין למי שהוא איטר). יש להדק את הרצועה ולכרוך אותה שבע פעמים סביב הזרוע.
2. מברכים את הברכה "להניח תפילין".
3. מניחים את תפילין של ראש מעל הקדקוד, במקום שבו שיער הראש מתחיל לצמוח, ומהדקים את הרצועות.
4. מברכים "ברוך אתה ה' אלקינו מלך העולם אשר קדשנו במצוותיו וצוונו על מצוות תפילין".
5. כורכים את הרצועה של יד סביב האצבע האמצעית ואומרים: "וארשתיך לי לעולם וארשתיך לי בצדק ובמשפט ובחסד וברחמים: וארשתיך לי באמונה וידעת את ה'".

קדושת תפילין
יש לשמור על קדושת התפילין בכל עת. אין להיכנס עמן לבית הכסא או למקומות שאינם נקיים, ויש לנהוג בהן בכבוד ובקדושה.

אמירות בזמן הנחת תפילין
בזמן הנחת התפילין רבים נוהגים לומר את פרשת "קדש לי כל בכור" (שמות י"ג, א'-י'), פרשת "והיה כי יביאך" (שמות י"ג, י"א-ט"ז), פרשת "שמע" (דברים ו', ד'-ט') ופרשת "והיה אם שמוע" (דברים י"א, י"ג-כ"א).`
  }
};

const Prayer = () => {
  const { id } = useParams();
  const navigate = useNavigate();
  const [prayer, setPrayer] = useState<{ title: string; content: string } | null>(null);

  useEffect(() => {
    // In a real app, this would fetch from an API
    if (id && id in prayerTexts) {
      setPrayer(prayerTexts[id as keyof typeof prayerTexts]);
    }
  }, [id]);

  if (!prayer) {
    return (
      <div className="min-h-[50vh] flex flex-col items-center justify-center">
        <p className="text-xl mb-4">תפילה לא נמצאה</p>
        <Button onClick={() => navigate('/prayers')}>חזרה לתפילות</Button>
      </div>
    );
  }

  return (
    <div className="space-y-6 rtl animate-fade-in">
      <div className="flex items-center mb-6">
        <Button 
          variant="outline" 
          onClick={() => navigate('/prayers')}
          className="flex items-center gap-2"
        >
          <ArrowRight className="h-4 w-4" />
          חזרה לתפילות
        </Button>
      </div>
      
      <div className="text-center">
        <h1 className="text-3xl font-bold text-spiritual-dark">{prayer.title}</h1>
      </div>

      <Card className="spiritual-card">
        <CardHeader>
          <CardTitle>נוסח התפילה</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="prayer-text whitespace-pre-line">
            {prayer.content}
          </div>
        </CardContent>
      </Card>
    </div>
  );
};

export default Prayer;
